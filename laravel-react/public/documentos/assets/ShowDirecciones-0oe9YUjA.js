import{q as M,r as t,j as e,a as A,d as N}from"./app-eXGWw0Q1.js";import{A as E,I as c,m as R,b as h,a as B,c as L,t as k,d as G,u as O}from"./AuthenticatedLayout-xmXHQCqJ.js";import{T as V}from"./TitleTemplate-g8fmxVri.js";import{C as q}from"./ContentTemplate-Tjr8Dmcy.js";import{F as K}from"./FilterTemplate-NM1ULPE2.js";import{S as H}from"./Select-okRpXzt-.js";import{i as J}from"./chunk-TC4QW7OA-vNTTWJaW.js";import{t as Q,p as U,a as W,b as X,c as Y,d as Z,e as u}from"./chunk-YRZGWF2W-C22kSm3v.js";import"./import-l4FZ2bLw.js";import"./import-oEubEFRA.js";import"./chunk-AMSULWPV-Pe1sDtjI.js";const he=({auth:w})=>{const{hasRoles:$,hasPermission:p}=O(),{all_direcciones:C}=M().props,[d,ee]=t.useState(C),v=[{name:"ID",uid:"id",sortable:!0},{name:"Nombre",uid:"nombre",sortable:!0},{name:"Acciones",uid:"accion"}],[l,r]=t.useState(""),[S,_]=t.useState([]),y=!!l,m=t.useMemo(()=>{let s=[...d];return y&&(s=s.filter(i=>i.nombre.toLowerCase().includes(l.toLowerCase()))),s},[d,l]),F=t.useCallback(s=>{s?(r(s),o(1)):r("")},[]),P=t.useCallback(()=>{r(""),o(1)},[]),[n,se]=t.useState({column:"fecha",direction:"ascending"}),D=()=>{r("")},[x,o]=t.useState(1),[a,z]=t.useState(8),T=Math.ceil(m.length/a),f=t.useMemo(()=>{const s=(x-1)*a,i=s+a;return m.slice(s,i)},[x,m,a]),I=t.useMemo(()=>[...f].sort((s,i)=>{const j=s[n.column],g=i[n.column],b=j<g?-1:j>g?1:0;return n.direction==="descending"?-b:b}),[n,f]);return e.jsxs(E,{user:w.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Direcciones"}),children:[e.jsx(A,{title:"Direcciones"}),e.jsx(V,{children:"Direcciones"}),e.jsx(K,{children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"md:flex justify-center gap-4 items-end",children:[e.jsx(J,{isClearable:!0,classNames:{input:["border-none"]},type:"text",className:"w-full lg:w-80 mb-1",size:"sm",placeholder:"Buscar por nombre...",startContent:e.jsx(c,{path:R,size:1}),value:l,onClear:()=>P(),onValueChange:F}),e.jsxs("div",{className:"flex justify-between items-center w-full gap-1 md:gap-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-default-400 text-tiny lg:text-small",children:["Total ",d.length," direcciones"]})}),e.jsxs(h,{color:"warning",className:"min-w-0 min-h-0",onPress:()=>D(),children:[e.jsx(c,{path:B,size:1}),e.jsx("p",{className:"hidden lg:flex",children:"Limpiar filtros"})]}),e.jsx("div",{className:"",children:e.jsxs("label",{className:"flex items-center text-default-400 text-tiny lg:text-small",children:["Filas por pagina:",e.jsx(H,{onChange:s=>{z(s),o(1)},value:a,opciones:[{id:5,nombre:5},{id:8,nombre:8},{id:12,nombre:12}]})]})})]})]})})}),e.jsxs(q,{children:[e.jsxs("div",{className:"flex justify-between mb-3",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-large md:text-2xl",children:"Resultados"})}),e.jsx("div",{className:"flex gap-3",children:p("Gestion-Crear funcionario")?e.jsx(e.Fragment,{children:e.jsx(N,{href:route("direccion.create"),children:e.jsx(h,{color:"success",variant:"solid",size:"sm",className:"min-w-0 min-h-0",endContent:e.jsx(c,{path:L,size:1}),children:e.jsx("div",{className:"hidden text-tiny md:flex md:text-small",children:"Agregar direccion"})})})}):e.jsx(e.Fragment,{})})]}),e.jsx("div",{className:"w-full",children:e.jsxs(Q,{"aria-label":"Tabla documentos",color:"primary",selectedKeys:S,onSelectionChange:_,bottomContent:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(U,{isCompact:!0,showControls:!0,showShadow:!0,color:"secondary",page:x,total:T,onChange:s=>o(s)})}),classNames:{wrapper:"min-h-[222px]"},children:[e.jsx(W,{children:v.map(s=>e.jsx(X,{className:"text-start text-small",children:s.name},s.uid))}),e.jsx(Y,{emptyContent:"No existen direcciones",children:I.map(s=>e.jsxs(Z,{className:"text-start",children:[e.jsx(u,{className:"overflow-hidden whitespace-nowrap text-ellipsis",children:s.id}),e.jsx(u,{className:"overflow-auto whitespace-nowrap text-ellipsis",children:s.nombre}),e.jsx(u,{className:"overflow-hidden whitespace-nowrap text-ellipsis",children:p("Gestion-Editar direccion")?e.jsx(e.Fragment,{children:e.jsx(k,{content:"Editar",color:"warning",children:e.jsx(N,{href:route("direccion.edit",String(s.id)),children:e.jsx(h,{className:"me-1",size:"sm",color:"warning",variant:"flat",children:e.jsx(c,{path:G,size:1})})})})}):e.jsx(e.Fragment,{})})]},s.id))})]})})]})]})};export{he as default};
